{{ define "main" }}
<main class="wrap">

  {{/* ===== 1) 전체글 / 첫글부터 : 사이트 전체 글을 모아서 출력 ===== */}}
  {{ if eq .Section "list" }}
    <h1>전체글</h1>
    <ol class="postlist">
      {{ $n := 0 }}
      {{ range .Site.RegularPages.ByDate.Reverse }}
        {{ $n = add $n 1 }}
        <li>
          <span class="postnum">{{ $n }}.</span>
          <a href="{{ .RelPermalink }}">{{ .Title }}</a>
        </li>
      {{ end }}
    </ol>

  {{ else if eq .Section "beginning" }}
    <h1>첫글부터</h1>
    <ol class="postlist">
      {{ $n := 0 }}
      {{ range .Site.RegularPages.ByDate }}
        {{ $n = add $n 1 }}
        <li>
          <span class="postnum">{{ $n }}.</span>
          <a href="{{ .RelPermalink }}">{{ .Title }}</a>
        </li>
      {{ end }}
    </ol>

  {{/* ===== 2) 그 외 섹션 : 홈처럼 "피드형(제목+요약)" ===== */}}
  {{ else }}
    <h1>{{ .Title }}</h1>

    {{ $pages := .Pages.ByDate.Reverse }}
    {{ if gt (len $pages) 0 }}
      {{ range $pages }}
        <article style="margin: 18px 0 34px;">
          <h2 class="feed-title" style="margin:0 0 6px;">
            <a href="{{ .RelPermalink }}">{{ .Title }}</a>
          </h2>

          <div class="feed-meta">
            <span class="feed-date">{{ .Date.Format "2006-01-02" }}</span>
          </div>

          <div>
            {{ .Summary }}
          </div>
        </article>
      {{ end }}
    {{ else }}
      <p>아직 글이 없다.</p>
    {{ end }}
  {{ end }}

</main>
{{ end }}
